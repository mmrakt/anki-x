# requirements.md

## 概要

「スペースドリピティション単語帳（学習SaaS）」は、SM‑2系アルゴリズムをベースにした復習スケジューリングを提供する学習プラットフォーム。デッキ／カード作成、復習セッション、学習ログ、基本的な分析・ダッシュボードを提供する。

## 目的

* ユーザの長期記憶定着を支援する。
* 直感的な復習体験を提供し、継続率を高める。
* 開発学習用に最新のReact/Next機能をフル活用した実装例を提示する（教育目的・OSS向け）。

## ペルソナ

* Student：単語を効率よく覚えたい学生
* DevLearner：技術用語やAPIを暗記したいエンジニア
* Teacher/Admin：複数ユーザの学習進捗を見たい教育者

## 範囲（MVP）

* ユーザ登録（メール or OAuth）
* デッキ作成／カードCRUD
* 復習セッション（出題→評価→次回予定日計算）
* 学習ログ保存・簡易ダッシュボード
* 基本のUI（デスクトップ / モバイル）

## ユーザーストーリー（抜粋）

* ユーザとして、デッキを作成してカードを追加したい（RHFで入力）。
* ユーザとして、今日やるべきカードを表示して復習したい。
* ユーザとして、復習評価（Again/Hard/Good/Easy）を押すと次の復習日が計算され保存される。
* 管理者として、ユーザの学習ログを確認したい。

## 機能要件

### 必須（MVP）

* 認証（セッション管理）
* デッキ・カード管理（CRUD）
* 復習セッション（出題順: due日ベース）
* レビュー保存 & CardのSRSフィールド更新
* 学習履歴・簡易グラフ（合計学習時間、レビュー数）

### あると良い（v1〜v2）

* CSV/Ankiインポート・エクスポート
* 共有デッキ / フォロー機能
* 音声読み上げ（TTS）
* プッシュ通知 / メールリマインダー

## 非機能要件

* レスポンス: ページレンダリングは2秒以内（主要フロー）
* 可用性: 99.5%（初期段階）
* スケーラビリティ: ユーザ数の横展開を想定
* セキュリティ: 入力検証・認証/認可・HTTPS

## 受け入れ基準（例）

* デッキを作成→カード5件登録→復習セッションで評価すると、DBにReviewが作られCard.dueAtが更新される。
* モバイルでカードのスワイプ操作が動作する。

## プライバシー / 法規制

* メール等の個人情報は暗号化保存、利用目的を限定
* 地域によりGDPR等を意識したデータ保持ポリシー（必要に応じて対応）

## アクセシビリティ

* キーボード操作とスクリーンリーダー基本サポート

## 制約・前提

* DBはPostgresを想定
* デプロイはVercel（Nextの最適化）を想定

## 成功指標

* 1ヶ月継続率（DAU/MAU）
* 1ユーザあたり週平均レビュー数
* 新規登録→初回復習完了率

## 次のステップ

1. API/DBのエンドポイント一覧を定義
2. Storybookコンポーネント一覧を決める
3. 初期マイグレーションとseedを作成
